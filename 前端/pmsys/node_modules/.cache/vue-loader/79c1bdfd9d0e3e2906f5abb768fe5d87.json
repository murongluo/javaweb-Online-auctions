{"remainingRequest":"C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\25194\\Desktop\\pmsys\\src\\components\\pmsys\\SysLogin.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\25194\\Desktop\\pmsys\\src\\components\\pmsys\\SysLogin.vue","mtime":1716562680081},{"path":"C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1713940553201},{"path":"C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\babel-loader\\lib\\index.js","mtime":1713699606133},{"path":"C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1713940553201},{"path":"C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\vue-loader\\lib\\index.js","mtime":1713699628743}],"contextDependencies":[],"result":["\r\n  import axios from 'axios';\r\n  export default {\r\n  name:'syslogin',\r\n    data() {\r\n      return {\r\n        data: [],\r\n        user: {\r\n          userId: \"\",\r\n          password: \"\",\r\n        },\r\n        rules: {\r\n          userId: [\r\n            { required: true, message: \"请输入用户名\", trigger: \"blur\" },\r\n            {\r\n              min: 1,\r\n              max: 15,\r\n              message: \"长度在 1 到 15 个字符\",\r\n              trigger: \"blur\",\r\n            },\r\n          ],\r\n  \r\n          password: [\r\n            { required: true, message: \"请输入密码\", trigger: \"blur\" },\r\n            {\r\n              min: 1,\r\n              max: 15,\r\n              message: \"长度在 1 到 15 个字符\",\r\n              trigger: \"blur\",\r\n            },\r\n          ],\r\n        },\r\n      };\r\n    },\r\n    methods: {\r\n      async login() {\r\n        console.info(\"login!\");\r\n        console.info(this.user);\r\n        try {\r\n          const response = await axios.post(\"http://localhost:8080/login\", {\r\n            userId: this.user.userId,\r\n            password: this.user.password,\r\n          });\r\n          if(response.data.code==1){\r\n            const userData = {\r\n                                userId: response.data.data.userId,\r\n                                userType: response.data.data.userType,\r\n                                username: response.data.data.username,\r\n                                token: response.data.data.token,\r\n                                image: response.data.data.image,\r\n                                lastLoginDate:response.data.data.lastLoginDate\r\n                              \r\n                            };\r\n                            localStorage.setItem('user', JSON.stringify(userData));\r\n          \r\n            this.$message({\r\n          message: '登录成功',\r\n          type: 'success'\r\n        });\r\n       this.$router.push('/home');\r\n        \r\n          }\r\n          console.log(response.data.data);\r\n        } catch (error) {\r\n          console.error(error);\r\n        }\r\n      },\r\n    },\r\n  };\r\n  ",{"version":3,"sources":["SysLogin.vue"],"names":[],"mappings":";AAmFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SysLogin.vue","sourceRoot":"src/components/pmsys","sourcesContent":["<template>\r\n    <div>\r\n      <div\r\n        class=\"container\"\r\n        :style=\"{\r\n          minHeight: '100vh',\r\n          alignItems: 'center',\r\n          background:\r\n            'url(http://codegen.caihongy.cn/20220804/122aadd2e96d4d5aa6a265bbd560a18d.gif)',\r\n          display: 'flex',\r\n          width: '100%',\r\n          backgroundSize: 'cover',\r\n          backgroundPosition: 'center center',\r\n          backgroundRepeat: 'no-repeat',\r\n          justifyContent: 'center',\r\n        }\"\r\n      >\r\n        <div class=\"wrapper\">\r\n          <div\r\n            style=\"\r\n              margin: 200px auto;\r\n              width: 400px;\r\n              height: 300px;\r\n              padding: 20px;\r\n              border-radius: 10px;\r\n            \"\r\n          >\r\n            <div style=\"margin: 20px 0; text-align: center; font-size: 24px\">\r\n              <b>登 录</b>\r\n            </div>\r\n            <el-form :model=\"user\" :rules=\"rules\" ref=\"userForm\">\r\n              <el-form-item prop=\"username\">\r\n                <el-input\r\n                  placeholder=\"用户名Id\"\r\n                  size=\"medium\"\r\n                  style=\"margin: 10px 0\"\r\n                  prefix-icon=\"el-icon-user\"\r\n                  v-model=\"user.userId\"\r\n                >\r\n                </el-input>\r\n              </el-form-item>\r\n              <el-form-item prop=\"password\">\r\n                <el-input\r\n                  placeholder=\"请输入密码\"\r\n                  size=\"medium\"\r\n                  style=\"margin: 10px 0\"\r\n                  prefix-icon=\"el-icon-lock\"\r\n                  show-password\r\n                  v-model=\"user.password\"\r\n                ></el-input>\r\n              </el-form-item>\r\n              <div style=\"margin: 10px 0; text-align: right\">\r\n                <el-button\r\n                  type=\"primary\"\r\n                  size=\"small\"\r\n                  autocomplete=\"off\"\r\n                  @click=\"login()\"\r\n                  >登录</el-button\r\n                >\r\n                <el-button\r\n                  type=\"warning\"\r\n                  size=\"small\"\r\n                  autocomplete=\"off\"\r\n                  @click=\"$router.push('/sysregister')\"\r\n                  >注册</el-button\r\n                >\r\n                <el-button\r\n                  type=\"warning\"\r\n                  size=\"small\"\r\n                  autocomplete=\"off\"\r\n                  @click=\"$router.push('/forgot')\"\r\n                  >忘记密码？</el-button\r\n                >\r\n            \r\n              </div>\r\n            </el-form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from 'axios';\r\n  export default {\r\n  name:'syslogin',\r\n    data() {\r\n      return {\r\n        data: [],\r\n        user: {\r\n          userId: \"\",\r\n          password: \"\",\r\n        },\r\n        rules: {\r\n          userId: [\r\n            { required: true, message: \"请输入用户名\", trigger: \"blur\" },\r\n            {\r\n              min: 1,\r\n              max: 15,\r\n              message: \"长度在 1 到 15 个字符\",\r\n              trigger: \"blur\",\r\n            },\r\n          ],\r\n  \r\n          password: [\r\n            { required: true, message: \"请输入密码\", trigger: \"blur\" },\r\n            {\r\n              min: 1,\r\n              max: 15,\r\n              message: \"长度在 1 到 15 个字符\",\r\n              trigger: \"blur\",\r\n            },\r\n          ],\r\n        },\r\n      };\r\n    },\r\n    methods: {\r\n      async login() {\r\n        console.info(\"login!\");\r\n        console.info(this.user);\r\n        try {\r\n          const response = await axios.post(\"http://localhost:8080/login\", {\r\n            userId: this.user.userId,\r\n            password: this.user.password,\r\n          });\r\n          if(response.data.code==1){\r\n            const userData = {\r\n                                userId: response.data.data.userId,\r\n                                userType: response.data.data.userType,\r\n                                username: response.data.data.username,\r\n                                token: response.data.data.token,\r\n                                image: response.data.data.image,\r\n                                lastLoginDate:response.data.data.lastLoginDate\r\n                              \r\n                            };\r\n                            localStorage.setItem('user', JSON.stringify(userData));\r\n          \r\n            this.$message({\r\n          message: '登录成功',\r\n          type: 'success'\r\n        });\r\n       this.$router.push('/home');\r\n        \r\n          }\r\n          console.log(response.data.data);\r\n        } catch (error) {\r\n          console.error(error);\r\n        }\r\n      },\r\n    },\r\n  };\r\n  </script>"]}]}
