{"remainingRequest":"C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\25194\\Desktop\\pmsys\\src\\components\\pmsys\\My.vue?vue&type=style&index=0&id=c5d451ca&scoped=true&lang=css","dependencies":[{"path":"C:\\Users\\25194\\Desktop\\pmsys\\src\\components\\pmsys\\My.vue","mtime":1716594327565},{"path":"C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\css-loader\\index.js","mtime":1713940553245},{"path":"C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1713699628743},{"path":"C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\postcss-loader\\src\\index.js","mtime":1713699628041},{"path":"C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1713940553201},{"path":"C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\vue-loader\\lib\\index.js","mtime":1713699628743}],"contextDependencies":[],"result":["\r\n.el-row {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.grid-content {\r\n    display: flex;\r\n    align-items: center;\r\n    height: 100px;\r\n}\r\n\r\n.grid-cont-right {\r\n    flex: 1;\r\n    text-align: center;\r\n    font-size: 14px;\r\n    color: #999;\r\n}\r\n\r\n.grid-num {\r\n    font-size: 30px;\r\n    font-weight: bold;\r\n}\r\n\r\n.grid-con-icon {\r\n    font-size: 50px;\r\n    width: 100px;\r\n    height: 100px;\r\n    text-align: center;\r\n    line-height: 100px;\r\n    color: #fff;\r\n}\r\n\r\n.grid-con-1 .grid-con-icon {\r\n    background: rgb(45, 140, 240);\r\n}\r\n\r\n.grid-con-1 .grid-num {\r\n    color: rgb(45, 140, 240);\r\n}\r\n\r\n.grid-con-2 .grid-con-icon {\r\n    background: rgb(100, 213, 114);\r\n}\r\n\r\n.grid-con-2 .grid-num {\r\n    color: rgb(45, 140, 240);\r\n}\r\n\r\n.grid-con-3 .grid-con-icon {\r\n    background: rgb(242, 94, 67);\r\n}\r\n\r\n.grid-con-3 .grid-num {\r\n    color: rgb(242, 94, 67);\r\n}\r\n\r\n.user-info {\r\n    display: flex;\r\n    align-items: center;\r\n    padding-bottom: 20px;\r\n    border-bottom: 2px solid #ccc;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.user-avator {\r\n    width: 120px;\r\n    height: 120px;\r\n    border-radius: 50%;\r\n}\r\n\r\n.user-info-cont {\r\n    padding-left: 50px;\r\n    flex: 1;\r\n    font-size: 14px;\r\n    color: #999;\r\n}\r\n\r\n.user-info-cont div:first-child {\r\n    font-size: 30px;\r\n    color: #222;\r\n}\r\n\r\n.user-info-list {\r\n    font-size: 14px;\r\n    color: #999;\r\n    line-height: 25px;\r\n}\r\n\r\n.user-info-list span {\r\n    margin-left: 70px;\r\n}\r\n\r\n.mgb20 {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.todo-item {\r\n    font-size: 14px;\r\n}\r\n\r\n.todo-item-del {\r\n    text-decoration: line-through;\r\n    color: #999;\r\n}\r\n\r\n.schart {\r\n    width: 100%;\r\n    height: 300px;\r\n}\r\n",{"version":3,"sources":["My.vue"],"names":[],"mappings":";AA8qBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"My.vue","sourceRoot":"src/components/pmsys","sourcesContent":["<template>\r\n    <div class=\"menupage\">\r\n        <el-menu\r\n            :default-active=\"activeIndex\"\r\n            class=\"el-menu-demo\"\r\n            mode=\"horizontal\"\r\n            @select=\"handleSelect\"\r\n            background-color=\"#545c64\"\r\n            text-color=\"#fff\"\r\n            active-text-color=\"#ffd04b\"\r\n        >\r\n            <p class=\"logo-title\"><i class=\"el-icon-user\"></i>槐序拍卖平台</p>\r\n            <el-menu-item index=\"1\" style=\"margin-left: 300px\">平台首页</el-menu-item>\r\n            <el-menu-item index=\"2\">平台简介</el-menu-item>\r\n            <el-menu-item index=\"3\">拍品展示</el-menu-item>\r\n            <el-menu-item index=\"4\">拍卖行</el-menu-item>\r\n            <el-submenu index=\"5\">\r\n                <template slot=\"title\">我的</template>\r\n                <el-menu-item index=\"5-1\">我的信息</el-menu-item>\r\n                <el-menu-item index=\"5-2\">前往后台</el-menu-item>\r\n                <el-menu-item index=\"5-3\">退出登录</el-menu-item>\r\n            </el-submenu>\r\n            <!-- 添加登录/注册按钮 -->\r\n            <el-menu-item index=\"6\">登录/注册</el-menu-item>\r\n        </el-menu>\r\n        <div>\r\n        <el-row :gutter=\"20\">\r\n            <el-col :span=\"8\">\r\n                <el-card shadow=\"hover\" class=\"mgb20\" style=\"height:252px;\">\r\n                    <div class=\"user-info\">\r\n                        <img :src=userData.image class=\"user-avator\" alt />\r\n                        <div class=\"user-info-cont\">\r\n                            <div class=\"user-info-name\">用户名:{{userData.username}}</div>\r\n                            <div>用户身份:{{userData.userType}}</div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"user-info-list\">\r\n                        上次登录时间：\r\n                        <span>{{userData.lastLoginDate  }}</span>\r\n                    </div>\r\n                    <div class=\"user-info-list\">\r\n                        修改信息：\r\n                        <el-button @click=\"showEditDialog\">修改</el-button>\r\n                    </div>\r\n                    <el-dialog title=\"修改信息\" :visible.sync=\"editDialogVisible\" append-to-body>\r\n  <el-form :model=\"editForm\" >\r\n    <el-form-item label=\"用户名\">\r\n      <el-input v-model=\"editForm.username\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"密码\">\r\n      <el-input v-model=\"editForm.password\" type=\"password\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"电子邮件\">\r\n      <el-input v-model=\"editForm.email\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"地址\">\r\n      <el-input v-model=\"editForm.address\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"图片URL\">\r\n                        <el-upload\r\n                            class=\"upload-demo\"\r\n                            action=\"http://localhost:8080/upload\"\r\n                            name=\"image\"\r\n                            :on-success=\"handleUploadSuccess\"\r\n                            :on-error=\"handleUploadError\"\r\n                            list-type=\"picture-card\">\r\n                            <i class=\"el-icon-plus\"></i>\r\n                        </el-upload>\r\n                    </el-form-item>\r\n  </el-form>\r\n  <div slot=\"footer\" class=\"dialog-footer\">\r\n    <el-button @click=\"editDialogVisible = false\">取消</el-button>\r\n    <el-button type=\"primary\" @click=\"submitEditForm()\">确认修改</el-button>\r\n  </div>\r\n</el-dialog>\r\n\r\n                </el-card>\r\n                <el-card shadow=\"hover\" style=\"height:252px;\">\r\n                    <div slot=\"header\" class=\"clearfix\">\r\n                        <span>语言详情</span>\r\n                    </div>Vue\r\n                    <el-progress :percentage=\"71.3\" color=\"#42b983\"></el-progress>JavaScript\r\n                    <el-progress :percentage=\"24.1\" color=\"#f1e05a\"></el-progress>CSS\r\n                    <el-progress :percentage=\"13.7\"></el-progress>HTML\r\n                    <el-progress :percentage=\"5.9\" color=\"#f56c6c\"></el-progress>\r\n                </el-card>\r\n            </el-col>\r\n            <el-col :span=\"16\">\r\n                <el-row :gutter=\"20\" class=\"mgb20\">\r\n                    <el-col :span=\"8\">\r\n                        <el-card shadow=\"hover\" :body-style=\"{padding: '0px'}\">\r\n                            <div class=\"grid-content grid-con-1\">\r\n                                <i class=\"el-icon-lx-goods grid-con-icon\"></i>\r\n                                <div class=\"grid-cont-right\">\r\n                                    <div class=\"grid-num\">我的订单</div>\r\n                                    <el-button @click=\"showOrderDetails\">订单详情</el-button>\r\n                                </div>\r\n                            </div>\r\n                        </el-card>\r\n                    </el-col>\r\n                    <el-dialog title=\"订单详情\" :visible.sync=\"orderDialogVisible\" width=\"80%\" append-to-body>\r\n    <el-table :data=\"orderDetails\" style=\"width: 100%\">\r\n        <el-table-column prop=\"paymentId\" label=\"支付编号\" width=\"100\"></el-table-column>\r\n        <el-table-column label=\"商品名称\" width=\"180\">\r\n            <template #default=\"scope\">\r\n                {{ scope.row.item.name }}\r\n            </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"卖家\" width=\"150\">\r\n            <template #default=\"scope\">\r\n                {{ scope.row.item.seller.username }}\r\n            </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"amount\" label=\"金额\" width=\"120\"></el-table-column>\r\n        <el-table-column prop=\"paymentMethod\" label=\"支付方式\" width=\"130\"></el-table-column>\r\n        <el-table-column prop=\"paymentStatus\" label=\"支付状态\" width=\"130\">\r\n            <template #default=\"scope\">\r\n                <div>{{ scope.row.paymentStatus }}</div>\r\n                <el-button \r\n                    v-if=\"scope.row.paymentStatus === '待支付'\" \r\n                    size=\"mini\" \r\n                    type=\"primary\" \r\n                    @click=\"handlePayment(scope.row)\">支付</el-button>\r\n                <el-button \r\n                    v-else-if=\"scope.row.paymentStatus === '支付失败'\" \r\n                    size=\"mini\" \r\n                    type=\"danger\" \r\n                    @click=\"handlePayment(scope.row)\">重新支付</el-button>\r\n            </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"paymentDate\" label=\"支付日期\" width=\"180\"></el-table-column>\r\n    </el-table>\r\n    <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"orderDialogVisible = false\">关闭</el-button>\r\n    </div>\r\n</el-dialog>\r\n<el-dialog title=\"支付选项\" :visible.sync=\"paymentDialogVisible\" append-to-body>\r\n    <el-form :model=\"currentPayment\">\r\n        <el-form-item label=\"支付编号\">\r\n            <span>{{ currentPayment.paymentId }}</span>\r\n        </el-form-item>\r\n        <el-form-item label=\"支付金额\">\r\n            <span>{{ currentPayment.amount }}</span>\r\n        </el-form-item>\r\n        <el-form-item label=\"选择支付方式\">\r\n            <el-radio-group v-model=\"currentPayment.paymentMethod\">\r\n                <el-radio label=\"微信\">微信</el-radio>\r\n                <el-radio label=\"支付宝\">支付宝</el-radio>\r\n                <el-radio label=\"银行卡\">银行卡</el-radio>\r\n            </el-radio-group>\r\n        </el-form-item>\r\n    </el-form>\r\n    <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"paymentDialogVisible = false\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"processPayment()\">确认支付</el-button>\r\n    </div>\r\n</el-dialog>\r\n\r\n\r\n\r\n\r\n                    <el-col :span=\"8\">\r\n                        <el-card shadow=\"hover\" :body-style=\"{padding: '0px'}\">\r\n                            <div class=\"grid-content grid-con-2\">\r\n                                <i class=\"el-icon-lx-notice grid-con-icon\"></i>\r\n                                <div class=\"grid-cont-right\">\r\n                                    <div class=\"grid-num\">我的竞价</div>\r\n                                    <el-button @click=\"showBidDetails\">竞价详情</el-button>\r\n                                </div>\r\n                            </div>\r\n                        </el-card>\r\n                    </el-col>\r\n                    <el-dialog title=\"竞价详情\" :visible.sync=\"bidDialogVisible\" append-to-body>\r\n    <el-table :data=\"bidDetails.rows\" stripe style=\"width: 100%\">\r\n        <el-table-column prop=\"bidId\" label=\"竞价ID\" width=\"100\"></el-table-column>\r\n        <el-table-column prop=\"item.name\" label=\"商品名称\" width=\"200\"></el-table-column>\r\n        <el-table-column prop=\"item.startingPrice\" label=\"起始价格\" width=\"120\"></el-table-column>\r\n        <el-table-column prop=\"bidAmount\" label=\"出价金额\" width=\"120\"></el-table-column>\r\n        <el-table-column prop=\"bidTime\" label=\"出价时间\" width=\"180\"></el-table-column>\r\n        <el-table-column prop=\"status\" label=\"竞价状态\" width=\"150\"></el-table-column>\r\n    </el-table>\r\n    <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"bidDialogVisible = false\">关闭</el-button>\r\n    </div>\r\n</el-dialog>\r\n<el-dialog title=\"商品详情\" :visible.sync=\"productDialogVisible\" width=\"80%\" append-to-body>\r\n    <el-table :data=\"productDetails\" style=\"width: 100%\">\r\n        <el-table-column prop=\"itemId\" label=\"商品ID\" width=\"100\"></el-table-column>\r\n        <el-table-column prop=\"name\" label=\"商品名称\" width=\"200\"></el-table-column>\r\n        <el-table-column prop=\"description\" label=\"描述\" width=\"300\"></el-table-column>\r\n        <el-table-column prop=\"category\" label=\"分类\" width=\"150\"></el-table-column>\r\n        <el-table-column prop=\"status\" label=\"状态\" width=\"100\">\r\n            <template #default=\"scope\">\r\n                {{ scope.row.status }}\r\n                <el-button v-if=\"scope.row.status === '失败'\" size=\"mini\" type=\"text\" @click=\"showEditProductDialog(scope.row)\">修改</el-button>\r\n            </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"listingDate\" label=\"上架日期\" width=\"180\"></el-table-column>\r\n        <el-table-column>\r\n            <template #default=\"scope\">\r\n                <img :src=\"scope.row.image\" alt=\"商品图片\" style=\"width: 100px; height: auto;\">\r\n            </template>\r\n            <template #header>\r\n                <span>商品图片</span>\r\n            </template>\r\n        </el-table-column>\r\n    </el-table>\r\n    <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"productDialogVisible = false\">关闭</el-button>\r\n    </div>\r\n</el-dialog>\r\n<el-dialog title=\"修改商品详情\" :visible.sync=\"editProductDialogVisible\" width=\"50%\" append-to-body>\r\n    <el-form :model=\"editProductForm\">\r\n        <el-form-item label=\"商品名称\">\r\n            <el-input v-model=\"editProductForm.name\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"描述\">\r\n            <el-input type=\"textarea\" v-model=\"editProductForm.description\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"分类\">\r\n            <el-input v-model=\"editProductForm.category\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"图片URL\">\r\n            <el-upload\r\n                class=\"upload-demo\"\r\n                action=\"http://localhost:8080/upload\"\r\n                name=\"image\"\r\n                :on-success=\"loadSuccess1\"\r\n                :on-error=\"loadError1\"\r\n                list-type=\"picture-card\">\r\n                <i class=\"el-icon-plus\"></i>\r\n                <img v-if=\"editProductForm.image\" :src=\"editProductForm.image\" style=\"width: 100px; height: auto\">\r\n            </el-upload>\r\n        </el-form-item>\r\n\r\n    </el-form>\r\n    <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"editProductDialogVisible = false\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"submitEditProductForm()\">提交修改</el-button>\r\n    </div>\r\n</el-dialog>\r\n\r\n\r\n\r\n\r\n                    <el-col :span=\"8\">\r\n                        <el-card shadow=\"hover\" :body-style=\"{padding: '0px'}\">\r\n                            <div class=\"grid-content grid-con-3\">\r\n                                <i class=\"el-icon-lx-goods grid-con-icon\"></i>\r\n                                <div class=\"grid-cont-right\">\r\n                                    <div class=\"grid-num\">我的商品</div>\r\n                                    <el-button @click=\"showProductDetails\">商品详情</el-button>\r\n                                </div>\r\n                            </div>\r\n                        </el-card>\r\n                    </el-col>\r\n                </el-row>\r\n\r\n                <el-card shadow=\"hover\" style=\"height:403px;\">\r\n                    <div slot=\"header\" class=\"clearfix\">\r\n                        <span>待办事项</span>\r\n                        <el-button style=\"float: right; padding: 3px 0\" type=\"text\">添加</el-button>\r\n                    </div>\r\n                    <el-table :show-header=\"false\" :data=\"todoList\" style=\"width:100%;\">\r\n                        <el-table-column width=\"40\">\r\n                            <template slot-scope=\"scope\">\r\n                                <el-checkbox v-model=\"scope.row.status\"></el-checkbox>\r\n                            </template>\r\n                        </el-table-column>\r\n                        <el-table-column>\r\n                            <template slot-scope=\"scope\">\r\n                                <div\r\n                                    class=\"todo-item\"\r\n                                    :class=\"{'todo-item-del': scope.row.status}\"\r\n                                >{{scope.row.title}}</div>\r\n                            </template>\r\n                        </el-table-column>\r\n                        <el-table-column width=\"60\">\r\n                            <template>\r\n                                <i class=\"el-icon-edit\"></i>\r\n                                <i class=\"el-icon-delete\"></i>\r\n                            </template>\r\n                        </el-table-column>\r\n                    </el-table>\r\n                </el-card>\r\n            </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"20\">\r\n            <el-col :span=\"12\">\r\n                <el-card shadow=\"hover\">\r\n                    <schart ref=\"bar\" class=\"schart\" canvasId=\"bar\" :options=\"options\"></schart>\r\n                </el-card>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n                <el-card shadow=\"hover\">\r\n                    <schart ref=\"line\" class=\"schart\" canvasId=\"line\" :options=\"options2\"></schart>\r\n                </el-card>\r\n            </el-col>\r\n        </el-row>\r\n    </div>\r\n    </div>\r\n</template>\r\n<script>\r\n import axios from 'axios';\r\nimport Schart from 'vue-schart';\r\nimport bus from '../common/bus';\r\nexport default {\r\n    name: 'dashboard',\r\n    data() {\r\n        return { \r\n            editProductDialogVisible: false,\r\n            editProductForm: {\r\n                itemId: '',\r\n                name: '',\r\n                description: '',\r\n                category: '',\r\n                image: '',\r\n                status:'待审核'\r\n            },\r\n            productDialogVisible: false,\r\n            productDetails: [],\r\n        bidDialogVisible: false,\r\n        bidDetails: { total: 0, rows: [] },\r\n        paymentDialogVisible: false,\r\n        currentPayment: {\r\n            paymentId: '',\r\n            amount: 0,\r\n            paymentMethod: '微信'\r\n        },\r\n        orderDialogVisible: false,\r\n        orderDetails: [],\r\n        editDialogVisible: false,\r\n        editForm: {\r\n            username: '',\r\n            password: '',\r\n            email: '',\r\n            address: '',\r\n            image: ''\r\n        },\r\n            userData: null,\r\n            name: localStorage.getItem('ms_username'),\r\n            todoList: [\r\n                {\r\n                    title: '今天要修复100个bug',\r\n                    status: false\r\n                },\r\n                {\r\n                    title: '今天要修复100个bug',\r\n                    status: false\r\n                },\r\n                {\r\n                    title: '今天要写100行代码加几个bug吧',\r\n                    status: false\r\n                },\r\n                {\r\n                    title: '今天要修复100个bug',\r\n                    status: false\r\n                },\r\n                {\r\n                    title: '今天要修复100个bug',\r\n                    status: true\r\n                },\r\n                {\r\n                    title: '今天要写100行代码加几个bug吧',\r\n                    status: true\r\n                }\r\n            ],\r\n            data: [\r\n                {\r\n                    name: '2018/09/04',\r\n                    value: 1083\r\n                },\r\n                {\r\n                    name: '2018/09/05',\r\n                    value: 941\r\n                },\r\n                {\r\n                    name: '2018/09/06',\r\n                    value: 1139\r\n                },\r\n                {\r\n                    name: '2018/09/07',\r\n                    value: 816\r\n                },\r\n                {\r\n                    name: '2018/09/08',\r\n                    value: 327\r\n                },\r\n                {\r\n                    name: '2018/09/09',\r\n                    value: 228\r\n                },\r\n                {\r\n                    name: '2018/09/10',\r\n                    value: 1065\r\n                }\r\n            ],\r\n            options: {\r\n                type: 'bar',\r\n                title: {\r\n                    text: '最近一周各品类销售图'\r\n                },\r\n                xRorate: 25,\r\n                labels: ['周一', '周二', '周三', '周四', '周五'],\r\n                datasets: [\r\n                    {\r\n                        label: '家电',\r\n                        data: [234, 278, 270, 190, 230]\r\n                    },\r\n                    {\r\n                        label: '百货',\r\n                        data: [164, 178, 190, 135, 160]\r\n                    },\r\n                    {\r\n                        label: '食品',\r\n                        data: [144, 198, 150, 235, 120]\r\n                    }\r\n                ]\r\n            },\r\n            options2: {\r\n                type: 'line',\r\n                title: {\r\n                    text: '最近几个月各品类销售趋势图'\r\n                },\r\n                labels: ['6月', '7月', '8月', '9月', '10月'],\r\n                datasets: [\r\n                    {\r\n                        label: '家电',\r\n                        data: [234, 278, 270, 190, 230]\r\n                    },\r\n                    {\r\n                        label: '百货',\r\n                        data: [164, 178, 150, 135, 160]\r\n                    },\r\n                    {\r\n                        label: '食品',\r\n                        data: [74, 118, 200, 235, 90]\r\n                    }\r\n                ]\r\n            }\r\n        };\r\n    },\r\n    components: {\r\n        Schart\r\n    },\r\n    computed: {\r\n        role() {\r\n            return this.name === 'admin' ? '超级管理员' : '普通用户';\r\n        }\r\n    },\r\n    mounted() {\r\n    this.fetchUserData();\r\n  },\r\n    methods: {\r\n        submitEditProductForm() {\r\n            this.editProductForm.status='待审核'\r\n            axios.post('http://localhost:8080/upitem', this.editProductForm)\r\n                .then(response => {\r\n                    if (response.data.code === 1) {\r\n                        this.$message.success('商品更新成功');\r\n                        this.editProductDialogVisible = false;\r\n                        this.fetchProductDetails();  // Refresh the product details\r\n                    } else {\r\n                        this.$message.error('更新失败: ' + response.data.msg);\r\n                    }\r\n                })\r\n                \r\n        },\r\n        loadSuccess1(response) {\r\n            this.editProductForm.image = response; // Assume response has url property\r\n            console.info(response)\r\n            this.$message.success('图片上传成功');\r\n        },\r\n       loadError1() {\r\n            this.$message.error('图片上传失败');\r\n        },\r\n        showEditProductDialog(product) {\r\n            this.editProductForm = { ...product };  // Spread operator to copy product details\r\n            this.editProductDialogVisible = true;\r\n        },\r\n        fetchProductDetails() {\r\n            const sellerId = this.userData.userId;  // Using userId as sellerId\r\n            axios.get(`http://localhost:8080/getitem`, { params: { sellerId: sellerId } })\r\n            .then(response => {\r\n                if (response.data.code === 1 && response.data.data.total > 0) {\r\n                    this.productDetails = response.data.data.rows;  // Store the product details\r\n                    this.$message.success('商品详情加载成功');\r\n                } else {\r\n                    this.$message.error('没有找到商品详情');\r\n                    this.productDetails = [];  // Reset if no details found\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.error('请求商品详情出错:', error);\r\n                this.$message.error('无法加载商品详情，请检查网络连接');\r\n            });\r\n        },\r\n        showProductDetails() {\r\n            this.productDialogVisible = true;\r\n            this.fetchProductDetails();  // Add a method to fetch product details from the server\r\n        },\r\n\r\n        showBidDetails() {\r\n        this.bidDialogVisible = true;\r\n        this.fetchBidDetails();  // Method to fetch bid details from the server\r\n    },\r\n    fetchBidDetails() {\r\n        const bidderId = this.userData.userId;  // Using userId as bidderId\r\n        axios.get(`http://localhost:8080/getbids`, { params: { bidderId: bidderId } })\r\n        .then(response => {\r\n            if (response.data.code === 1 && response.data.data.total > 0) {\r\n                this.bidDetails = response.data.data;  // Store the bid details\r\n                this.$message.success('加载竞价详情成功');\r\n            } else {\r\n                this.$message.error('没有找到竞价详情');\r\n                this.bidDetails = { total: 0, rows: [] };  // Reset if no details found\r\n            }\r\n        })\r\n        \r\n    },\r\n        processPayment() {\r\n        this.$confirm('确定要执行支付操作吗?', '确认支付', {\r\n            confirmButtonText: '确定',\r\n            cancelButtonText: '取消',\r\n            type: 'warning'\r\n        }).then(() => {\r\n            this.currentPayment.paymentStatus = '支付成功';\r\n            this.updatePaymentStatus();\r\n        }).catch(() => {\r\n            this.currentPayment.paymentStatus = '支付失败';\r\n            this.updatePaymentStatus();\r\n        });\r\n    },\r\n    updatePaymentStatus() {\r\n        // Assume paymentId and paymentStatus are set\r\n        console.log('Updating payment status:', this.currentPayment);\r\n        axios.post('http://localhost:8080/uppay', {\r\n            paymentId: this.currentPayment.paymentId,\r\n            paymentStatus: this.currentPayment.paymentStatus,\r\n            paymentMethod: this.currentPayment.paymentMethod\r\n        })\r\n        .then(response => {\r\n            if (response.data.code === 1) {\r\n                this.$message.success('支付状态更新成功');\r\n                this.fetchOrderDetails(); // Refresh the order details\r\n                this.paymentDialogVisible = false;\r\n            } else {\r\n                this.$message.error('支付状态更新失败: ' + response.data.msg);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.error('Error updating payment status:', error);\r\n            this.$message.error('支付状态更新出错');\r\n        });\r\n    },\r\n        handlePayment(paymentDetail) {\r\n        this.currentPayment.paymentId = paymentDetail.paymentId;\r\n        this.currentPayment.amount = paymentDetail.amount;\r\n        this.paymentDialogVisible = true;\r\n    },\r\n        showOrderDetails() {\r\n        this.orderDialogVisible = true;\r\n        this.fetchOrderDetails();  // 假设有一个方法来从服务器获取订单详情\r\n    },\r\n    fetchOrderDetails() {\r\n        const payerId = this.userData.userId;  // Ensure userData is populated correctly\r\n        axios.get(`http://localhost:8080/getpay`, { params: { payerId: payerId } })\r\n        .then(response => {\r\n            if (response.data.code === 1) {\r\n                this.orderDetails = response.data.data.rows;\r\n                this.$message.success('订单数据加载成功');\r\n            } else {\r\n                this.$message.error('订单数据加载失败: ' + response.data.msg);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.error('请求订单数据出错:', error);\r\n            this.$message.error('无法加载订单数据，请检查网络连接');\r\n        });\r\n    },\r\n        showEditDialog() {\r\n        this.editForm = {\r\n            userId:this.userData.userId,\r\n            username: this.userData.username,\r\n            password: '',  // 密码应当被保密，不自动填充\r\n            email: this.userData.email,\r\n            address: this.userData.address,\r\n            image: this.userData.image\r\n        };\r\n        this.editDialogVisible = true;\r\n    },\r\n    handleUploadSuccess(response) {\r\n            this.editForm.image = response; // Assume response has url property\r\n            console.info(response)\r\n            this.$message.success('图片上传成功');\r\n        },\r\n        handleUploadError() {\r\n            this.$message.error('图片上传失败');\r\n        },\r\n    submitEditForm() {\r\n        axios.post('http://localhost:8080/upuser', this.editForm, {\r\n           \r\n        })\r\n        .then(response => {\r\n            if (response.data.code === 1) {\r\n                this.$message.success('信息更新成功');\r\n                this.editDialogVisible = false;\r\n                this.fetchUserData();  // 重新加载用户数据\r\n            } else {\r\n                this.$message.error('更新失败: ' + response.data.msg);\r\n            }\r\n        })\r\n\r\n    },\r\n        fetchUserData() {\r\n    const user = JSON.parse(localStorage.getItem('user'));\r\n    console.info(user)\r\n    if (user && user.token && user.userId) {\r\n      axios.get('http://localhost:8080/getusers', {\r\n        headers: {\r\n            'token': user.token\r\n        },\r\n        params: {\r\n          userId: user.userId\r\n        }\r\n      })\r\n      .then(response => {\r\n      \r\n       this.userData=response.data.data.rows[0];\r\n       console.info(this.userData)\r\n      })\r\n      .catch(error => {\r\n        this.handleError('Error fetching user data', error);\r\n      });\r\n    } else {\r\n      this.$message.error('User data not found in local storage');\r\n    }\r\n  },\r\n  handleError(msg, error = null) {\r\n    console.error('Error:', error || msg);\r\n    this.$message.error(msg);\r\n  },\r\n        changeDate() {\r\n            const now = new Date().getTime();\r\n            this.data.forEach((item, index) => {\r\n                const date = new Date(now - (6 - index) * 86400000);\r\n                item.name = `${date.getFullYear()}/${date.getMonth() + 1}/${date.getDate()}`;\r\n            });\r\n        }\r\n    },\r\n    handleSelect(key, keyPath) {\r\n            console.log('Selected:', key, keyPath);\r\n            switch(key) {\r\n                case '1':\r\n                    this.$router.push('/home'); \r\n                    break;\r\n                case '2':\r\n                    this.$router.push('/about');  \r\n                    break;\r\n                case '3':\r\n                    this.$router.push('/items');  \r\n                    break;\r\n                case '4':\r\n                    this.$router.push('/auction');  \r\n                    break;\r\n                case '5-1':\r\n                    this.$router.push('/my'); \r\n                    break;\r\n                case '5-2':\r\n                    this.$router.push('/admin/login'); \r\n                    break;\r\n                case '5-3':\r\n                    this.$router.push('/');  \r\n                    break;\r\n                case '6':\r\n                    this.$router.push('/syslogin');  \r\n                    break;\r\n                default: this.$router.push('/*');\r\n                    \r\n            }\r\n        }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.el-row {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.grid-content {\r\n    display: flex;\r\n    align-items: center;\r\n    height: 100px;\r\n}\r\n\r\n.grid-cont-right {\r\n    flex: 1;\r\n    text-align: center;\r\n    font-size: 14px;\r\n    color: #999;\r\n}\r\n\r\n.grid-num {\r\n    font-size: 30px;\r\n    font-weight: bold;\r\n}\r\n\r\n.grid-con-icon {\r\n    font-size: 50px;\r\n    width: 100px;\r\n    height: 100px;\r\n    text-align: center;\r\n    line-height: 100px;\r\n    color: #fff;\r\n}\r\n\r\n.grid-con-1 .grid-con-icon {\r\n    background: rgb(45, 140, 240);\r\n}\r\n\r\n.grid-con-1 .grid-num {\r\n    color: rgb(45, 140, 240);\r\n}\r\n\r\n.grid-con-2 .grid-con-icon {\r\n    background: rgb(100, 213, 114);\r\n}\r\n\r\n.grid-con-2 .grid-num {\r\n    color: rgb(45, 140, 240);\r\n}\r\n\r\n.grid-con-3 .grid-con-icon {\r\n    background: rgb(242, 94, 67);\r\n}\r\n\r\n.grid-con-3 .grid-num {\r\n    color: rgb(242, 94, 67);\r\n}\r\n\r\n.user-info {\r\n    display: flex;\r\n    align-items: center;\r\n    padding-bottom: 20px;\r\n    border-bottom: 2px solid #ccc;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.user-avator {\r\n    width: 120px;\r\n    height: 120px;\r\n    border-radius: 50%;\r\n}\r\n\r\n.user-info-cont {\r\n    padding-left: 50px;\r\n    flex: 1;\r\n    font-size: 14px;\r\n    color: #999;\r\n}\r\n\r\n.user-info-cont div:first-child {\r\n    font-size: 30px;\r\n    color: #222;\r\n}\r\n\r\n.user-info-list {\r\n    font-size: 14px;\r\n    color: #999;\r\n    line-height: 25px;\r\n}\r\n\r\n.user-info-list span {\r\n    margin-left: 70px;\r\n}\r\n\r\n.mgb20 {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.todo-item {\r\n    font-size: 14px;\r\n}\r\n\r\n.todo-item-del {\r\n    text-decoration: line-through;\r\n    color: #999;\r\n}\r\n\r\n.schart {\r\n    width: 100%;\r\n    height: 300px;\r\n}\r\n</style>\r\n\r\n\r\n<style>\r\n/* 菜单栏样式 */\r\n.menupage {\r\n    position: relative;\r\n    width: 100%;\r\n    top: 0;\r\n    z-index: 100;\r\n    height: 100%; /* 确保高度足够 */\r\n}\r\n\r\n.menupage .el-menu.el-menu--horizontal {\r\n    border-bottom: none;\r\n    height: 100px; /* 保持原有高度 */\r\n    line-height: 100px;\r\n    background-color: #545c64;\r\n}\r\n\r\n.menupage .el-menu.el-menu--horizontal > .el-menu-item,\r\n.menupage .el-menu--horizontal > .el-submenu .el-submenu__title {\r\n    height: 100px; /* 保持原有高度 */\r\n    line-height: 100px;\r\n    padding: 0px 50px;\r\n    font-size: 16px;\r\n    letter-spacing: 4px;\r\n}\r\n\r\n.menupage .el-menu--horizontal > .el-menu-item.is-active,\r\n.menupage .el-menu--horizontal > .el-submenu.is-active .el-submenu__title {\r\n    border-bottom-width: 4px;\r\n}\r\n\r\n.menupage .logo-title .el-icon-user {\r\n    margin-right: 5px;\r\n}\r\n\r\n.logo-title {\r\n    position: absolute;\r\n    left: 100px;\r\n    top: 0px;\r\n    color: #fff;\r\n    font-size: 26px;\r\n    cursor: pointer;\r\n}\r\n\r\n\r\n\r\n</style>\r\n\r\n"]}]}
