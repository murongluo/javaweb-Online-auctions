{"remainingRequest":"C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\25194\\Desktop\\pmsys\\src\\components\\pmsys\\Auction.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\25194\\Desktop\\pmsys\\src\\components\\pmsys\\Auction.vue","mtime":1716803122997},{"path":"C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1713940553201},{"path":"C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\babel-loader\\lib\\index.js","mtime":1713699606133},{"path":"C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1713940553201},{"path":"C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\vue-loader\\lib\\index.js","mtime":1713699628743}],"contextDependencies":[],"result":["\r\nimport Axios from 'axios';\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            formInline: {\r\n                title: '',\r\n                status: '',\r\n                auctionId:''\r\n            },\r\n            searchQuery: '',\r\n            auctionSessions: [],\r\n            totalAuctionSessions: 0,\r\n            pageSize: 3,\r\n            currentPage: 1,\r\n            dialogVisible: false,\r\n            currentImageIndex: -1,\r\n            activeIndex: '4'\r\n        };\r\n    },\r\n    created() {\r\n        this.fetchAuctionSessions();\r\n    },\r\n    computed: {\r\n        filteredAuctionSessions() {\r\n            return this.auctionSessions.filter(session =>\r\n                session.title.toLowerCase().includes(this.searchQuery.toLowerCase()) ||\r\n                session.description.toLowerCase().includes(this.searchQuery.toLowerCase())\r\n            );\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        onSubmit() {\r\n            this.currentPage = 1;  // 重置为第一页\r\n            this.fetchAuctionSessions();\r\n        },\r\n        fetchAuctionSessions() {\r\n            const params = {\r\n                title: this.formInline.title,\r\n                auctionId: this.formInline.auctionId,\r\n                status: this.formInline.status,\r\n                page: this.currentPage,\r\n                pageSize: this.pageSize\r\n            };\r\n            Axios.get('http://localhost:8080/getauction',{ params })\r\n            .then(response => {\r\n                if (response.data.code === 1) {\r\n                    this.auctionSessions = response.data.data.rows;\r\n                    this.totalAuctionSessions = response.data.data.total;\r\n                    this.$message.success('数据加载成功');\r\n                } else {\r\n                    this.$message.error('数据加载失败: ' + response.data.msg);\r\n                }\r\n            })\r\n           \r\n        },\r\n        joinAuction(auctionSession) {\r\n            if (auctionSession.status !== '进行中') {\r\n                this.$message.error('该场次当前不可参与');\r\n                return;\r\n            }\r\n            console.log('参与拍卖场次:', auctionSession);\r\n            this.$message.success('您已成功加入拍卖');\r\n            this.$router.push({\r\n        path: '/auIt',\r\n        query: { auctionId: auctionSession.auctionId }  // 传递 auctionId 作为查询参数\r\n    });\r\n            // 添加实际的逻辑，例如跳转到拍卖详情页面\r\n        },\r\n        handlePageChange(newPage) {\r\n            this.currentPage = newPage;\r\n            this.fetchAuctionSessions(); // Fetch new page data\r\n        },\r\n        handleSizeChange(newSize) {\r\n            this.pageSize = newSize;\r\n            this.fetchAuctionSessions(); // Fetch new page size data\r\n        },\r\n        handleSelect(key, keyPath) {\r\n            console.log('Selected:', key, keyPath);\r\n            switch(key) {\r\n                case '1':\r\n                    this.$router.push('/home'); \r\n                    break;\r\n                case '2':\r\n                    this.$router.push('/about');  \r\n                    break;\r\n                case '3':\r\n                    this.$router.push('/items');  \r\n                    break;\r\n                case '4':\r\n                    this.$router.push('/auction');  \r\n                    break;\r\n                case '5-1':\r\n                    this.$router.push('/my'); \r\n                    break;\r\n                case '5-2':\r\n                    this.$router.push('/admin/login'); \r\n                    break;\r\n                case '5-3':\r\n                    this.$router.push('/');  \r\n                    break;\r\n                case '6':\r\n                    this.$router.push('/syslogin');  \r\n                    break;\r\n                default: this.$router.push('/*');\r\n                    \r\n            }\r\n        }\r\n    }\r\n};\r\n",{"version":3,"sources":["Auction.vue"],"names":[],"mappings":";AA2FA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Auction.vue","sourceRoot":"src/components/pmsys","sourcesContent":["<template>\r\n    <div class=\"menupage\">\r\n        <el-menu\r\n            :default-active=\"activeIndex\"\r\n            class=\"el-menu-demo\"\r\n            mode=\"horizontal\"\r\n            @select=\"handleSelect\"\r\n            background-color=\"#545c64\"\r\n            text-color=\"#fff\"\r\n            active-text-color=\"#ffd04b\"\r\n        >\r\n            <p class=\"logo-title\"><i class=\"el-icon-user\"></i>槐序拍卖平台</p>\r\n            <el-menu-item index=\"1\" style=\"margin-left: 300px\">平台首页</el-menu-item>\r\n            <el-menu-item index=\"2\">平台简介</el-menu-item>\r\n            <el-menu-item index=\"3\">拍品展示</el-menu-item>\r\n            <el-menu-item index=\"4\">拍卖行</el-menu-item>\r\n            <el-submenu index=\"5\">\r\n                <template slot=\"title\">我的</template>\r\n                <el-menu-item index=\"5-1\">我的信息</el-menu-item>\r\n                <el-menu-item index=\"5-2\">前往后台</el-menu-item>\r\n                <el-menu-item index=\"5-3\">退出登录</el-menu-item>\r\n            </el-submenu>\r\n            <!-- 添加登录/注册按钮 -->\r\n            <el-menu-item index=\"6\">登录/注册</el-menu-item>\r\n        </el-menu>\r\n        <div>\r\n            <div class=\"container\">\r\n                <el-form :inline=\"true\" :model=\"formInline\" class=\"demo-form-inline\">\r\n                    <el-form-item label=\"承办方\">\r\n                        <el-input v-model=\"formInline.title\" placeholder=\"请输入承办方\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"拍卖会id\">\r\n                        <el-input v-model=\"formInline.auctionId\" placeholder=\"请输入拍卖会id\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"状态\">\r\n                        <el-select v-model=\"formInline.status\" placeholder=\"请选择状态\">\r\n                            <el-option label=\"不区分\" value=\"\"></el-option>\r\n                            <el-option label=\"结束\" value=\"结束\"></el-option>\r\n                            <el-option label=\"准备中\" value=\"准备中\"></el-option>\r\n                            <el-option label=\"进行中\" value=\"进行中\"></el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                    <el-form-item>\r\n                        <el-button type=\"primary\" @click=\"onSubmit\">查询</el-button>\r\n                    </el-form-item>\r\n  \r\n                </el-form>\r\n            </div>\r\n            <el-row :gutter=\"20\">\r\n                <el-col :span=\"24\">\r\n                    <el-card class=\"box-card\">\r\n                        <div class=\"content\">\r\n                            <el-row :gutter=\"20\">\r\n                                <el-col :span=\"8\" v-for=\"(auctionSession, index) in filteredAuctionSessions\" :key=\"index\">\r\n                                    <el-card class=\"box-card\">\r\n                                        <img :src=\"auctionSession.image\" class=\"image\" alt=\"拍卖场次图片\" />\r\n                                        <div class=\"content\">\r\n                                            <span class=\"name\">{{ auctionSession.title }}</span>\r\n                                            <br />\r\n                                            <span class=\"status\">{{ auctionSession.status }}</span>\r\n                                            <br />\r\n                                            <span class=\"description\">{{ auctionSession.description }}</span>\r\n                                            <br />\r\n                                        </div>\r\n                                        <div class=\"bottom clearfix\">\r\n                                            <el-button type=\"text\" class=\"button\" @click=\"joinAuction(auctionSession)\">参与</el-button>\r\n                                        </div>\r\n                                    </el-card>\r\n                                </el-col>\r\n                            </el-row>\r\n                        </div>\r\n                    </el-card>\r\n                </el-col>\r\n            </el-row>\r\n            <el-row :gutter=\"20\" style=\"margin-top: 20px\">\r\n                <el-col :span=\"24\">\r\n                    <el-pagination\r\n                    @size-change=\"handleSizeChange\"\r\n                    @current-change=\"handlePageChange\"\r\n                    :current-page=\"currentPage\"\r\n                    :page-sizes=\"[3,9, 18, 45, 90]\"\r\n                    :page-size=\"pageSize\"\r\n                    layout=\"total, sizes, prev, pager, next, jumper\"\r\n                    :total=\"totalAuctionSessions\">\r\n                </el-pagination>\r\n                </el-col>\r\n            </el-row>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport Axios from 'axios';\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            formInline: {\r\n                title: '',\r\n                status: '',\r\n                auctionId:''\r\n            },\r\n            searchQuery: '',\r\n            auctionSessions: [],\r\n            totalAuctionSessions: 0,\r\n            pageSize: 3,\r\n            currentPage: 1,\r\n            dialogVisible: false,\r\n            currentImageIndex: -1,\r\n            activeIndex: '4'\r\n        };\r\n    },\r\n    created() {\r\n        this.fetchAuctionSessions();\r\n    },\r\n    computed: {\r\n        filteredAuctionSessions() {\r\n            return this.auctionSessions.filter(session =>\r\n                session.title.toLowerCase().includes(this.searchQuery.toLowerCase()) ||\r\n                session.description.toLowerCase().includes(this.searchQuery.toLowerCase())\r\n            );\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        onSubmit() {\r\n            this.currentPage = 1;  // 重置为第一页\r\n            this.fetchAuctionSessions();\r\n        },\r\n        fetchAuctionSessions() {\r\n            const params = {\r\n                title: this.formInline.title,\r\n                auctionId: this.formInline.auctionId,\r\n                status: this.formInline.status,\r\n                page: this.currentPage,\r\n                pageSize: this.pageSize\r\n            };\r\n            Axios.get('http://localhost:8080/getauction',{ params })\r\n            .then(response => {\r\n                if (response.data.code === 1) {\r\n                    this.auctionSessions = response.data.data.rows;\r\n                    this.totalAuctionSessions = response.data.data.total;\r\n                    this.$message.success('数据加载成功');\r\n                } else {\r\n                    this.$message.error('数据加载失败: ' + response.data.msg);\r\n                }\r\n            })\r\n           \r\n        },\r\n        joinAuction(auctionSession) {\r\n            if (auctionSession.status !== '进行中') {\r\n                this.$message.error('该场次当前不可参与');\r\n                return;\r\n            }\r\n            console.log('参与拍卖场次:', auctionSession);\r\n            this.$message.success('您已成功加入拍卖');\r\n            this.$router.push({\r\n        path: '/auIt',\r\n        query: { auctionId: auctionSession.auctionId }  // 传递 auctionId 作为查询参数\r\n    });\r\n            // 添加实际的逻辑，例如跳转到拍卖详情页面\r\n        },\r\n        handlePageChange(newPage) {\r\n            this.currentPage = newPage;\r\n            this.fetchAuctionSessions(); // Fetch new page data\r\n        },\r\n        handleSizeChange(newSize) {\r\n            this.pageSize = newSize;\r\n            this.fetchAuctionSessions(); // Fetch new page size data\r\n        },\r\n        handleSelect(key, keyPath) {\r\n            console.log('Selected:', key, keyPath);\r\n            switch(key) {\r\n                case '1':\r\n                    this.$router.push('/home'); \r\n                    break;\r\n                case '2':\r\n                    this.$router.push('/about');  \r\n                    break;\r\n                case '3':\r\n                    this.$router.push('/items');  \r\n                    break;\r\n                case '4':\r\n                    this.$router.push('/auction');  \r\n                    break;\r\n                case '5-1':\r\n                    this.$router.push('/my'); \r\n                    break;\r\n                case '5-2':\r\n                    this.$router.push('/admin/login'); \r\n                    break;\r\n                case '5-3':\r\n                    this.$router.push('/');  \r\n                    break;\r\n                case '6':\r\n                    this.$router.push('/syslogin');  \r\n                    break;\r\n                default: this.$router.push('/*');\r\n                    \r\n            }\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.image {\r\n    width: 150px;\r\n    height: 150px;\r\n    object-fit: cover; /* 确保图片被缩放以适应容器，而不会被裁剪 */\r\n}\r\n\r\n.gallery-carousel {\r\n    text-align: center; /* 居中显示 */\r\n    margin: 20px; /* 调整外边距以突出显示 */\r\n}\r\n\r\n.el-carousel {\r\n    height: 300px; /* 根据实际情况调整高度 */\r\n}\r\n</style>\r\n\r\n<style>\r\n/* 菜单栏样式 */\r\n.menupage {\r\n    position: relative;\r\n    width: 100%;\r\n    top: 0;\r\n    z-index: 100;\r\n    height: 100%; /* 确保高度足够 */\r\n}\r\n\r\n.menupage .el-menu.el-menu--horizontal {\r\n    border-bottom: none;\r\n    height: 100px; /* 保持原有高度 */\r\n    line-height: 100px;\r\n    background-color: #545c64;\r\n}\r\n\r\n.menupage .el-menu.el-menu--horizontal > .el-menu-item,\r\n.menupage .el-menu--horizontal > .el-submenu .el-submenu__title {\r\n    height: 100px; /* 保持原有高度 */\r\n    line-height: 100px;\r\n    padding: 0px 50px;\r\n    font-size: 16px;\r\n    letter-spacing: 4px;\r\n}\r\n\r\n.menupage .el-menu--horizontal > .el-menu-item.is-active,\r\n.menupage .el-menu--horizontal > .el-submenu.is-active .el-submenu__title {\r\n    border-bottom-width: 4px;\r\n}\r\n\r\n.menupage .logo-title .el-icon-user {\r\n    margin-right: 5px;\r\n}\r\n\r\n.logo-title {\r\n    position: absolute;\r\n    left: 100px;\r\n    top: 0px;\r\n    color: #fff;\r\n    font-size: 26px;\r\n    cursor: pointer;\r\n}\r\n\r\n/* 内容容器样式 */\r\n.container {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: space-around;\r\n    margin-top: 50px;\r\n    height: 100%; /* 确保高度足够 */\r\n    overflow: auto; /* 添加滚动条 */\r\n}\r\n\r\n.block {\r\n    background-color: #f7f7f7;\r\n    border-radius: 10px;\r\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n    width: 300px;\r\n    min-height: 260px;\r\n    position: relative;\r\n    overflow: visible; /* 确保内容不会被剪切 */\r\n}\r\n\r\n.block h2 {\r\n    margin: 0;\r\n    padding: 20px;\r\n    background-color: #545c64;\r\n    color: #fff;\r\n    position: absolute;\r\n    top: 0;\r\n    width: 100%;\r\n    transition: top 0.3s ease-in-out;\r\n}\r\n\r\n.block p {\r\n    padding: 20px;\r\n    color: #333;\r\n    font-size: 16px;\r\n    position: absolute;\r\n    top: 60px;\r\n    width: 100%;\r\n    opacity: 0;\r\n    transition: opacity 0.5s ease;\r\n}\r\n\r\n.block:hover p {\r\n    opacity: 1;\r\n}\r\n\r\n/* 合作伙伴容器样式 */\r\n.partners-container {\r\n    display: flex;\r\n    flex-wrap: wrap; /* 确保元素可以换行 */\r\n    justify-content: space-around; /* 分布间隔平均 */\r\n    align-items: flex-start; /* 对齐到容器的顶部 */\r\n    margin-top: 50px;\r\n    padding: 20px;\r\n    height: 100%; /* 确保高度足够 */\r\n    overflow: auto; /* 添加滚动条 */\r\n}\r\n\r\n.partners-container h2 {\r\n    text-align: center;\r\n    font-size: 30px;\r\n    color: #333;\r\n    margin: 20px 0;\r\n    width: 100%;\r\n}\r\n\r\n.partner-block {\r\n    background-color: #f7f7f7;\r\n    border-radius: 10px;\r\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n    width: 22%; /* 调整宽度以适应一行显示四个元素 */\r\n    min-height: 320px; /* 调整高度以保持一致 */\r\n    margin: 10px 1%; /* 调整边距以适应响应式设计 */\r\n    padding: 20px;\r\n    text-align: center;\r\n    transition: transform 0.3s ease;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    overflow: visible; /* 确保内容不会被剪切 */\r\n}\r\n\r\n.partner-block:hover {\r\n    transform: translateY(-10px);\r\n}\r\n\r\n.partner-logo {\r\n    width: 150px; /* 控制 logo 的大小 */\r\n    height: auto;\r\n    margin-bottom: 20px;\r\n}\r\n.partner-name {\r\n    font-size: 24px;\r\n    margin-bottom: 10px;\r\n    color: #333;\r\n}\r\n\r\n.partner-description {\r\n    font-size: 14px;\r\n    color: #666;\r\n    line-height: 1.6;\r\n    text-align: justify;\r\n}\r\n\r\n.el-row {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.el-col {\r\n    border-radius: 4px;\r\n}\r\n\r\n.box-card {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.image {\r\n    width: 100%;\r\n    display: block;\r\n}\r\n\r\n.content {\r\n    padding: 14px;\r\n    font-size: 14px;\r\n    line-height: 20px;\r\n    color: #303133;\r\n    word-wrap: break-word;\r\n}\r\n\r\n.name {\r\n    font-size: 16px;\r\n    color: #303133;\r\n    font-weight: bold;\r\n}\r\n\r\n.description {\r\n    color: #909399;\r\n    font-size: 14px;\r\n}\r\n\r\n.price {\r\n    color: #f56c6c;\r\n    font-size: 14px;\r\n    font-weight: bold;\r\n}\r\n\r\n.bottom {\r\n    margin-top: 13px;\r\n    line-height: 12px;\r\n}\r\n\r\n.button {\r\n    padding: 0;\r\n    margin-left: 5px;\r\n}\r\n.el-row {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.el-col {\r\n    border-radius: 4px;\r\n}\r\n\r\n.box-card {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.image {\r\n    width: 100%;\r\n    display: block;\r\n}\r\n\r\n.content {\r\n    padding: 14px;\r\n    font-size: 14px;\r\n    line-height: 20px;\r\n    color: #303133;\r\n    word-wrap: break-word;\r\n}\r\n\r\n.name {\r\n    font-size: 16px;\r\n    color: #303133;\r\n    font-weight: bold;\r\n}\r\n\r\n.status {\r\n    color: #909399;\r\n    font-size: 14px;\r\n}\r\n\r\n.description {\r\n    color: #909399;\r\n    font-size: 14px;\r\n}\r\n\r\n.price {\r\n    color: #f56c6c;\r\n    font-size: 14px;\r\n    font-weight: bold;\r\n}\r\n\r\n.bottom {\r\n    margin-top: 13px;\r\n    line-height: 12px;\r\n}\r\n\r\n.button {\r\n    padding: 0;\r\n    margin-left: 5px;\r\n}\r\n</style>\r\n\r\n"]}]}
