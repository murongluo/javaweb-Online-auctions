{"remainingRequest":"C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\25194\\Desktop\\pmsys\\src\\components\\common\\Tags.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\25194\\Desktop\\pmsys\\src\\components\\common\\Tags.vue","mtime":1594005027000},{"path":"C:\\Users\\25194\\Desktop\\pmsys\\babel.config.js","mtime":1594005027000},{"path":"C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1713940553201},{"path":"C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1713699606252},{"path":"C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\babel-loader\\lib\\index.js","mtime":1713699606133},{"path":"C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1713940553201},{"path":"C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\vue-loader\\lib\\index.js","mtime":1713699628743}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport bus from \"./bus\";\nexport default {\n  data: function data() {\n    return {\n      tagsList: []\n    };\n  },\n  methods: {\n    isActive: function isActive(path) {\n      return path === this.$route.fullPath;\n    },\n    // 关闭单个标签\n    closeTags: function closeTags(index) {\n      var delItem = this.tagsList.splice(index, 1)[0];\n      var item = this.tagsList[index] ? this.tagsList[index] : this.tagsList[index - 1];\n      if (item) {\n        delItem.path === this.$route.fullPath && this.$router.push(item.path);\n      } else {\n        this.$router.push('/');\n      }\n    },\n    // 关闭全部标签\n    closeAll: function closeAll() {\n      this.tagsList = [];\n      this.$router.push('/');\n    },\n    // 关闭其他标签\n    closeOther: function closeOther() {\n      var _this = this;\n      var curItem = this.tagsList.filter(function (item) {\n        return item.path === _this.$route.fullPath;\n      });\n      this.tagsList = curItem;\n    },\n    // 设置标签\n    setTags: function setTags(route) {\n      var isExist = this.tagsList.some(function (item) {\n        return item.path === route.fullPath;\n      });\n      if (!isExist) {\n        if (this.tagsList.length >= 8) {\n          this.tagsList.shift();\n        }\n        this.tagsList.push({\n          title: route.meta.title,\n          path: route.fullPath,\n          name: route.matched[1].components.default.name\n        });\n      }\n      bus.$emit('tags', this.tagsList);\n    },\n    handleTags: function handleTags(command) {\n      command === 'other' ? this.closeOther() : this.closeAll();\n    }\n  },\n  computed: {\n    showTags: function showTags() {\n      return this.tagsList.length > 0;\n    }\n  },\n  watch: {\n    $route: function $route(newValue, oldValue) {\n      this.setTags(newValue);\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n    this.setTags(this.$route);\n    // 监听关闭当前页面的标签页\n    bus.$on('close_current_tags', function () {\n      for (var i = 0, len = _this2.tagsList.length; i < len; i++) {\n        var item = _this2.tagsList[i];\n        if (item.path === _this2.$route.fullPath) {\n          if (i < len - 1) {\n            _this2.$router.push(_this2.tagsList[i + 1].path);\n          } else if (i > 0) {\n            _this2.$router.push(_this2.tagsList[i - 1].path);\n          } else {\n            _this2.$router.push('/');\n          }\n          _this2.tagsList.splice(i, 1);\n          break;\n        }\n      }\n    });\n  }\n};",{"version":3,"names":["bus","data","tagsList","methods","isActive","path","$route","fullPath","closeTags","index","delItem","splice","item","$router","push","closeAll","closeOther","_this","curItem","filter","setTags","route","isExist","some","length","shift","title","meta","name","matched","components","default","$emit","handleTags","command","computed","showTags","watch","newValue","oldValue","created","_this2","$on","i","len"],"sources":["src/components/common/Tags.vue"],"sourcesContent":["<template>\r\n    <div class=\"tags\" v-if=\"showTags\">\r\n        <ul>\r\n            <li class=\"tags-li\" v-for=\"(item,index) in tagsList\" :class=\"{'active': isActive(item.path)}\" :key=\"index\">\r\n                <router-link :to=\"item.path\" class=\"tags-li-title\">\r\n                    {{item.title}}\r\n                </router-link>\r\n                <span class=\"tags-li-icon\" @click=\"closeTags(index)\"><i class=\"el-icon-close\"></i></span>\r\n            </li>\r\n        </ul>\r\n        <div class=\"tags-close-box\">\r\n            <el-dropdown @command=\"handleTags\">\r\n                <el-button size=\"mini\" type=\"primary\">\r\n                    标签选项<i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n                </el-button>\r\n                <el-dropdown-menu size=\"small\" slot=\"dropdown\">\r\n                    <el-dropdown-item command=\"other\">关闭其他</el-dropdown-item>\r\n                    <el-dropdown-item command=\"all\">关闭所有</el-dropdown-item>\r\n                </el-dropdown-menu>\r\n            </el-dropdown>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import bus from './bus';\r\n    export default {\r\n        data() {\r\n            return {\r\n                tagsList: []\r\n            }\r\n        },\r\n        methods: {\r\n            isActive(path) {\r\n                return path === this.$route.fullPath;\r\n            },\r\n            // 关闭单个标签\r\n            closeTags(index) {\r\n                const delItem = this.tagsList.splice(index, 1)[0];\r\n                const item = this.tagsList[index] ? this.tagsList[index] : this.tagsList[index - 1];\r\n                if (item) {\r\n                    delItem.path === this.$route.fullPath && this.$router.push(item.path);\r\n                }else{\r\n                    this.$router.push('/');\r\n                }\r\n            },\r\n            // 关闭全部标签\r\n            closeAll(){\r\n                this.tagsList = [];\r\n                this.$router.push('/');\r\n            },\r\n            // 关闭其他标签\r\n            closeOther(){\r\n                const curItem = this.tagsList.filter(item => {\r\n                    return item.path === this.$route.fullPath;\r\n                })\r\n                this.tagsList = curItem;\r\n            },\r\n            // 设置标签\r\n            setTags(route){\r\n                const isExist = this.tagsList.some(item => {\r\n                    return item.path === route.fullPath;\r\n                })\r\n                if(!isExist){\r\n                    if(this.tagsList.length >= 8){\r\n                        this.tagsList.shift();\r\n                    }\r\n                    this.tagsList.push({\r\n                        title: route.meta.title,\r\n                        path: route.fullPath,\r\n                        name: route.matched[1].components.default.name\r\n                    })\r\n                }\r\n                bus.$emit('tags', this.tagsList);\r\n            },\r\n            handleTags(command){\r\n                command === 'other' ? this.closeOther() : this.closeAll();\r\n            }\r\n        },\r\n        computed: {\r\n            showTags() {\r\n                return this.tagsList.length > 0;\r\n            }\r\n        },\r\n        watch:{\r\n            $route(newValue, oldValue){\r\n                this.setTags(newValue);\r\n            }\r\n        },\r\n        created(){\r\n            this.setTags(this.$route);\r\n            // 监听关闭当前页面的标签页\r\n            bus.$on('close_current_tags', () => {\r\n                for (let i = 0, len = this.tagsList.length; i < len; i++) {\r\n                    const item = this.tagsList[i];\r\n                    if(item.path === this.$route.fullPath){\r\n                        if(i < len - 1){\r\n                            this.$router.push(this.tagsList[i+1].path);\r\n                        }else if(i > 0){\r\n                            this.$router.push(this.tagsList[i-1].path);\r\n                        }else{\r\n                            this.$router.push('/');\r\n                        }\r\n                        this.tagsList.splice(i, 1);\r\n                        break;\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n</script>\r\n\r\n\r\n<style>\r\n    .tags {\r\n        position: relative;\r\n        height: 30px;\r\n        overflow: hidden;\r\n        background: #fff;\r\n        padding-right: 120px;\r\n        box-shadow: 0 5px 10px #ddd;\r\n    }\r\n\r\n    .tags ul {\r\n        box-sizing: border-box;\r\n        width: 100%;\r\n        height: 100%;\r\n    }\r\n\r\n    .tags-li {\r\n        float: left;\r\n        margin: 3px 5px 2px 3px;\r\n        border-radius: 3px;\r\n        font-size: 12px;\r\n        overflow: hidden;\r\n        cursor: pointer;\r\n        height: 23px;\r\n        line-height: 23px;\r\n        border: 1px solid #e9eaec;\r\n        background: #fff;\r\n        padding: 0 5px 0 12px;\r\n        vertical-align: middle;\r\n        color: #666;\r\n        -webkit-transition: all .3s ease-in;\r\n        -moz-transition: all .3s ease-in;\r\n        transition: all .3s ease-in;\r\n    }\r\n\r\n    .tags-li:not(.active):hover {\r\n        background: #f8f8f8;\r\n    }\r\n\r\n    .tags-li.active {\r\n        color: #fff;\r\n    }\r\n\r\n    .tags-li-title {\r\n        float: left;\r\n        max-width: 80px;\r\n        overflow: hidden;\r\n        white-space: nowrap;\r\n        text-overflow: ellipsis;\r\n        margin-right: 5px;\r\n        color: #666;\r\n    }\r\n\r\n    .tags-li.active .tags-li-title {\r\n        color: #fff;\r\n    }\r\n\r\n    .tags-close-box {\r\n        position: absolute;\r\n        right: 0;\r\n        top: 0;\r\n        box-sizing: border-box;\r\n        padding-top: 1px;\r\n        text-align: center;\r\n        width: 110px;\r\n        height: 30px;\r\n        background: #fff;\r\n        box-shadow: -3px 0 15px 3px rgba(0, 0, 0, .1);\r\n        z-index: 10;\r\n    }\r\n\r\n</style>\r\n"],"mappings":";AAyBA,OAAAA,GAAA;AACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,QAAA;IACA;EACA;EACAC,OAAA;IACAC,QAAA,WAAAA,SAAAC,IAAA;MACA,OAAAA,IAAA,UAAAC,MAAA,CAAAC,QAAA;IACA;IACA;IACAC,SAAA,WAAAA,UAAAC,KAAA;MACA,IAAAC,OAAA,QAAAR,QAAA,CAAAS,MAAA,CAAAF,KAAA;MACA,IAAAG,IAAA,QAAAV,QAAA,CAAAO,KAAA,SAAAP,QAAA,CAAAO,KAAA,SAAAP,QAAA,CAAAO,KAAA;MACA,IAAAG,IAAA;QACAF,OAAA,CAAAL,IAAA,UAAAC,MAAA,CAAAC,QAAA,SAAAM,OAAA,CAAAC,IAAA,CAAAF,IAAA,CAAAP,IAAA;MACA;QACA,KAAAQ,OAAA,CAAAC,IAAA;MACA;IACA;IACA;IACAC,QAAA,WAAAA,SAAA;MACA,KAAAb,QAAA;MACA,KAAAW,OAAA,CAAAC,IAAA;IACA;IACA;IACAE,UAAA,WAAAA,WAAA;MAAA,IAAAC,KAAA;MACA,IAAAC,OAAA,QAAAhB,QAAA,CAAAiB,MAAA,WAAAP,IAAA;QACA,OAAAA,IAAA,CAAAP,IAAA,KAAAY,KAAA,CAAAX,MAAA,CAAAC,QAAA;MACA;MACA,KAAAL,QAAA,GAAAgB,OAAA;IACA;IACA;IACAE,OAAA,WAAAA,QAAAC,KAAA;MACA,IAAAC,OAAA,QAAApB,QAAA,CAAAqB,IAAA,WAAAX,IAAA;QACA,OAAAA,IAAA,CAAAP,IAAA,KAAAgB,KAAA,CAAAd,QAAA;MACA;MACA,KAAAe,OAAA;QACA,SAAApB,QAAA,CAAAsB,MAAA;UACA,KAAAtB,QAAA,CAAAuB,KAAA;QACA;QACA,KAAAvB,QAAA,CAAAY,IAAA;UACAY,KAAA,EAAAL,KAAA,CAAAM,IAAA,CAAAD,KAAA;UACArB,IAAA,EAAAgB,KAAA,CAAAd,QAAA;UACAqB,IAAA,EAAAP,KAAA,CAAAQ,OAAA,IAAAC,UAAA,CAAAC,OAAA,CAAAH;QACA;MACA;MACA5B,GAAA,CAAAgC,KAAA,cAAA9B,QAAA;IACA;IACA+B,UAAA,WAAAA,WAAAC,OAAA;MACAA,OAAA,oBAAAlB,UAAA,UAAAD,QAAA;IACA;EACA;EACAoB,QAAA;IACAC,QAAA,WAAAA,SAAA;MACA,YAAAlC,QAAA,CAAAsB,MAAA;IACA;EACA;EACAa,KAAA;IACA/B,MAAA,WAAAA,OAAAgC,QAAA,EAAAC,QAAA;MACA,KAAAnB,OAAA,CAAAkB,QAAA;IACA;EACA;EACAE,OAAA,WAAAA,QAAA;IAAA,IAAAC,MAAA;IACA,KAAArB,OAAA,MAAAd,MAAA;IACA;IACAN,GAAA,CAAA0C,GAAA;MACA,SAAAC,CAAA,MAAAC,GAAA,GAAAH,MAAA,CAAAvC,QAAA,CAAAsB,MAAA,EAAAmB,CAAA,GAAAC,GAAA,EAAAD,CAAA;QACA,IAAA/B,IAAA,GAAA6B,MAAA,CAAAvC,QAAA,CAAAyC,CAAA;QACA,IAAA/B,IAAA,CAAAP,IAAA,KAAAoC,MAAA,CAAAnC,MAAA,CAAAC,QAAA;UACA,IAAAoC,CAAA,GAAAC,GAAA;YACAH,MAAA,CAAA5B,OAAA,CAAAC,IAAA,CAAA2B,MAAA,CAAAvC,QAAA,CAAAyC,CAAA,MAAAtC,IAAA;UACA,WAAAsC,CAAA;YACAF,MAAA,CAAA5B,OAAA,CAAAC,IAAA,CAAA2B,MAAA,CAAAvC,QAAA,CAAAyC,CAAA,MAAAtC,IAAA;UACA;YACAoC,MAAA,CAAA5B,OAAA,CAAAC,IAAA;UACA;UACA2B,MAAA,CAAAvC,QAAA,CAAAS,MAAA,CAAAgC,CAAA;UACA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]}]}
