{"remainingRequest":"C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\25194\\Desktop\\pmsys\\src\\components\\pmsys\\SysLogin.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\25194\\Desktop\\pmsys\\src\\components\\pmsys\\SysLogin.vue","mtime":1716562680081},{"path":"C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1713940553201},{"path":"C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\babel-loader\\lib\\index.js","mtime":1713699606133},{"path":"C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1713940553201},{"path":"C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\vue-loader\\lib\\index.js","mtime":1713699628743},{"path":"C:\\Users\\25194\\Desktop\\pmsys\\babel.config.js","mtime":1717413171333},{"path":"C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1713940553201},{"path":"C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\babel-loader\\lib\\index.js","mtime":1713699606133},{"path":"C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1713940553201},{"path":"C:\\Users\\25194\\Desktop\\pmsys\\node_modules\\vue-loader\\lib\\index.js","mtime":1713699628743}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:/Users/25194/Desktop/pmsys/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport axios from 'axios';\nexport default {\n  name: 'syslogin',\n  data: function data() {\n    return {\n      data: [],\n      user: {\n        userId: \"\",\n        password: \"\"\n      },\n      rules: {\n        userId: [{\n          required: true,\n          message: \"请输入用户名\",\n          trigger: \"blur\"\n        }, {\n          min: 1,\n          max: 15,\n          message: \"长度在 1 到 15 个字符\",\n          trigger: \"blur\"\n        }],\n        password: [{\n          required: true,\n          message: \"请输入密码\",\n          trigger: \"blur\"\n        }, {\n          min: 1,\n          max: 15,\n          message: \"长度在 1 到 15 个字符\",\n          trigger: \"blur\"\n        }]\n      }\n    };\n  },\n  methods: {\n    login: function () {\n      var _login = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var response, userData;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              console.info(\"login!\");\n              console.info(this.user);\n              _context.prev = 2;\n              _context.next = 5;\n              return axios.post(\"http://localhost:8080/login\", {\n                userId: this.user.userId,\n                password: this.user.password\n              });\n            case 5:\n              response = _context.sent;\n              if (response.data.code == 1) {\n                userData = {\n                  userId: response.data.data.userId,\n                  userType: response.data.data.userType,\n                  username: response.data.data.username,\n                  token: response.data.data.token,\n                  image: response.data.data.image,\n                  lastLoginDate: response.data.data.lastLoginDate\n                };\n                localStorage.setItem('user', JSON.stringify(userData));\n                this.$message({\n                  message: '登录成功',\n                  type: 'success'\n                });\n                this.$router.push('/home');\n              }\n              console.log(response.data.data);\n              _context.next = 13;\n              break;\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](2);\n              console.error(_context.t0);\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this, [[2, 10]]);\n      }));\n      function login() {\n        return _login.apply(this, arguments);\n      }\n      return login;\n    }()\n  }\n};",{"version":3,"names":["axios","name","data","user","userId","password","rules","required","message","trigger","min","max","methods","login","_login","_asyncToGenerator","regeneratorRuntime","mark","_callee","response","userData","wrap","_callee$","_context","prev","next","console","info","post","sent","code","userType","username","token","image","lastLoginDate","localStorage","setItem","JSON","stringify","$message","type","$router","push","log","t0","error","stop","apply","arguments"],"sources":["src/components/pmsys/SysLogin.vue"],"sourcesContent":["<template>\r\n    <div>\r\n      <div\r\n        class=\"container\"\r\n        :style=\"{\r\n          minHeight: '100vh',\r\n          alignItems: 'center',\r\n          background:\r\n            'url(http://codegen.caihongy.cn/20220804/122aadd2e96d4d5aa6a265bbd560a18d.gif)',\r\n          display: 'flex',\r\n          width: '100%',\r\n          backgroundSize: 'cover',\r\n          backgroundPosition: 'center center',\r\n          backgroundRepeat: 'no-repeat',\r\n          justifyContent: 'center',\r\n        }\"\r\n      >\r\n        <div class=\"wrapper\">\r\n          <div\r\n            style=\"\r\n              margin: 200px auto;\r\n              width: 400px;\r\n              height: 300px;\r\n              padding: 20px;\r\n              border-radius: 10px;\r\n            \"\r\n          >\r\n            <div style=\"margin: 20px 0; text-align: center; font-size: 24px\">\r\n              <b>登 录</b>\r\n            </div>\r\n            <el-form :model=\"user\" :rules=\"rules\" ref=\"userForm\">\r\n              <el-form-item prop=\"username\">\r\n                <el-input\r\n                  placeholder=\"用户名Id\"\r\n                  size=\"medium\"\r\n                  style=\"margin: 10px 0\"\r\n                  prefix-icon=\"el-icon-user\"\r\n                  v-model=\"user.userId\"\r\n                >\r\n                </el-input>\r\n              </el-form-item>\r\n              <el-form-item prop=\"password\">\r\n                <el-input\r\n                  placeholder=\"请输入密码\"\r\n                  size=\"medium\"\r\n                  style=\"margin: 10px 0\"\r\n                  prefix-icon=\"el-icon-lock\"\r\n                  show-password\r\n                  v-model=\"user.password\"\r\n                ></el-input>\r\n              </el-form-item>\r\n              <div style=\"margin: 10px 0; text-align: right\">\r\n                <el-button\r\n                  type=\"primary\"\r\n                  size=\"small\"\r\n                  autocomplete=\"off\"\r\n                  @click=\"login()\"\r\n                  >登录</el-button\r\n                >\r\n                <el-button\r\n                  type=\"warning\"\r\n                  size=\"small\"\r\n                  autocomplete=\"off\"\r\n                  @click=\"$router.push('/sysregister')\"\r\n                  >注册</el-button\r\n                >\r\n                <el-button\r\n                  type=\"warning\"\r\n                  size=\"small\"\r\n                  autocomplete=\"off\"\r\n                  @click=\"$router.push('/forgot')\"\r\n                  >忘记密码？</el-button\r\n                >\r\n            \r\n              </div>\r\n            </el-form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from 'axios';\r\n  export default {\r\n  name:'syslogin',\r\n    data() {\r\n      return {\r\n        data: [],\r\n        user: {\r\n          userId: \"\",\r\n          password: \"\",\r\n        },\r\n        rules: {\r\n          userId: [\r\n            { required: true, message: \"请输入用户名\", trigger: \"blur\" },\r\n            {\r\n              min: 1,\r\n              max: 15,\r\n              message: \"长度在 1 到 15 个字符\",\r\n              trigger: \"blur\",\r\n            },\r\n          ],\r\n  \r\n          password: [\r\n            { required: true, message: \"请输入密码\", trigger: \"blur\" },\r\n            {\r\n              min: 1,\r\n              max: 15,\r\n              message: \"长度在 1 到 15 个字符\",\r\n              trigger: \"blur\",\r\n            },\r\n          ],\r\n        },\r\n      };\r\n    },\r\n    methods: {\r\n      async login() {\r\n        console.info(\"login!\");\r\n        console.info(this.user);\r\n        try {\r\n          const response = await axios.post(\"http://localhost:8080/login\", {\r\n            userId: this.user.userId,\r\n            password: this.user.password,\r\n          });\r\n          if(response.data.code==1){\r\n            const userData = {\r\n                                userId: response.data.data.userId,\r\n                                userType: response.data.data.userType,\r\n                                username: response.data.data.username,\r\n                                token: response.data.data.token,\r\n                                image: response.data.data.image,\r\n                                lastLoginDate:response.data.data.lastLoginDate\r\n                              \r\n                            };\r\n                            localStorage.setItem('user', JSON.stringify(userData));\r\n          \r\n            this.$message({\r\n          message: '登录成功',\r\n          type: 'success'\r\n        });\r\n       this.$router.push('/home');\r\n        \r\n          }\r\n          console.log(response.data.data);\r\n        } catch (error) {\r\n          console.error(error);\r\n        }\r\n      },\r\n    },\r\n  };\r\n  </script>"],"mappings":";;AAmFA,OAAAA,KAAA;AACA;EACAC,IAAA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAA,IAAA;MACAC,IAAA;QACAC,MAAA;QACAC,QAAA;MACA;MACAC,KAAA;QACAF,MAAA,GACA;UAAAG,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,GACA;UACAC,GAAA;UACAC,GAAA;UACAH,OAAA;UACAC,OAAA;QACA,EACA;QAEAJ,QAAA,GACA;UAAAE,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,GACA;UACAC,GAAA;UACAC,GAAA;UACAH,OAAA;UACAC,OAAA;QACA;MAEA;IACA;EACA;EACAG,OAAA;IACAC,KAAA;MAAA,IAAAC,MAAA,GAAAC,iBAAA,eAAAC,kBAAA,CAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,QAAA,EAAAC,QAAA;QAAA,OAAAJ,kBAAA,CAAAK,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cACAC,OAAA,CAAAC,IAAA;cACAD,OAAA,CAAAC,IAAA,MAAAxB,IAAA;cAAAoB,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAEAzB,KAAA,CAAA4B,IAAA;gBACAxB,MAAA,OAAAD,IAAA,CAAAC,MAAA;gBACAC,QAAA,OAAAF,IAAA,CAAAE;cACA;YAAA;cAHAc,QAAA,GAAAI,QAAA,CAAAM,IAAA;cAIA,IAAAV,QAAA,CAAAjB,IAAA,CAAA4B,IAAA;gBACAV,QAAA;kBACAhB,MAAA,EAAAe,QAAA,CAAAjB,IAAA,CAAAA,IAAA,CAAAE,MAAA;kBACA2B,QAAA,EAAAZ,QAAA,CAAAjB,IAAA,CAAAA,IAAA,CAAA6B,QAAA;kBACAC,QAAA,EAAAb,QAAA,CAAAjB,IAAA,CAAAA,IAAA,CAAA8B,QAAA;kBACAC,KAAA,EAAAd,QAAA,CAAAjB,IAAA,CAAAA,IAAA,CAAA+B,KAAA;kBACAC,KAAA,EAAAf,QAAA,CAAAjB,IAAA,CAAAA,IAAA,CAAAgC,KAAA;kBACAC,aAAA,EAAAhB,QAAA,CAAAjB,IAAA,CAAAA,IAAA,CAAAiC;gBAEA;gBACAC,YAAA,CAAAC,OAAA,SAAAC,IAAA,CAAAC,SAAA,CAAAnB,QAAA;gBAEA,KAAAoB,QAAA;kBACAhC,OAAA;kBACAiC,IAAA;gBACA;gBACA,KAAAC,OAAA,CAAAC,IAAA;cAEA;cACAjB,OAAA,CAAAkB,GAAA,CAAAzB,QAAA,CAAAjB,IAAA,CAAAA,IAAA;cAAAqB,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAsB,EAAA,GAAAtB,QAAA;cAEAG,OAAA,CAAAoB,KAAA,CAAAvB,QAAA,CAAAsB,EAAA;YAAA;YAAA;cAAA,OAAAtB,QAAA,CAAAwB,IAAA;UAAA;QAAA,GAAA7B,OAAA;MAAA;MAAA,SAAAL,MAAA;QAAA,OAAAC,MAAA,CAAAkC,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAApC,KAAA;IAAA;EAGA;AACA","ignoreList":[]}]}
